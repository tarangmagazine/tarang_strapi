<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Author Display page</title>
    <script>
      async function get_author_info() {
          let params = new URLSearchParams(location.search);
          author_id = params.get('id')
          full_url = 'http://localhost:1337/api/authors/' + author_id;
          console.log(full_url);
          const response = await fetch(full_url);
          const myJson = await response.json(); //extract JSON from the http response
          document.querySelector('h1').innerHTML = myJson['data']['attributes']['Name'];
          document.querySelector('h2').innerHTML = myJson['data']['attributes']['Email'];
          document.querySelector('p').innerHTML = myJson['data']['attributes']['Bio'];
          // do something with myJson
          // console.log(myJson['data']);
          // alert(myJson);
      }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body onload="get_author_info()">
    <h1></h1>
    <h2 style='color:red'></h2>
    <p style='color:blue'></p>
    <p>Brought to you by Tarang!!!</p>
  </body>
</html>
